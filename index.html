<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AR.js - UI Centrata e Rotazione Z</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <!-- AR.js per A-Frame -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <a-scene embedded arjs>
      <!-- Marker: utilizzo il preset "hiro" (puoi usare il tuo custom marker modificando type e url) -->
      <a-marker preset="hiro">
        <!-- Contenitore UI: se il marker non è centrato, regola manualmente l'offset (ad esempio, position="0 0 0" potrebbe essere modificato in "0 0.2 0" per spostare verticalmente) -->
        <a-entity id="ui-root" position="0 0 0" rotation="0 0 0">
          <!-- Textbox in alto -->
          <a-plane id="top-textbox"
                   width="1.5" height="0.2"
                   color="black"
                   position="0 0.7 0"
                   rotation="0 0 0">
            <a-text value="Testo in alto"
                    align="center"
                    color="white"
                    width="1.4"
                    position="0 0 0.01"></a-text>
          </a-plane>
          
          <!-- Menu principale -->
          <a-entity id="menu" visible="true" position="0 0.3 0" rotation="0 0 0">
            <!-- Sfondo del menu -->
            <a-plane width="1.5" height="0.5" color="#888" opacity="0.8"></a-plane>
            <!-- Pulsante 1: ruotato di 15° sull’asse Z -->
            <a-plane id="button1"
                     width="1.3" height="0.1"
                     color="#ccc"
                     position="0 0.1 0.01"
                     rotation="0 0 15"
                     class="clickable"
                     onclick="openDetailPanel(1)">
              <a-text value="Pulsante 1 - Testo 1"
                      align="left"
                      position="-0.6 0 0.02" width="1.2"></a-text>
              <a-text value="Pulsante 1 - Testo 2"
                      align="right"
                      position="0.6 0 0.02" width="1.2"></a-text>
            </a-plane>
            <!-- Pulsante 2 -->
            <a-plane id="button2"
                     width="1.3" height="0.1"
                     color="#ccc"
                     position="0 0 0.01"
                     rotation="0 0 0"
                     class="clickable"
                     onclick="openDetailPanel(2)">
              <a-text value="Pulsante 2 - Testo 1"
                      align="left"
                      position="-0.6 0 0.02" width="1.2"></a-text>
              <a-text value="Pulsante 2 - Testo 2"
                      align="right"
                      position="0.6 0 0.02" width="1.2"></a-text>
            </a-plane>
            <!-- Pulsante 3 -->
            <a-plane id="button3"
                     width="1.3" height="0.1"
                     color="#ccc"
                     position="0 -0.1 0.01"
                     rotation="0 0 0"
                     class="clickable"
                     onclick="openDetailPanel(3)">
              <a-text value="Pulsante 3 - Testo 1"
                      align="left"
                      position="-0.6 0 0.02" width="1.2"></a-text>
              <a-text value="Pulsante 3 - Testo 2"
                      align="right"
                      position="0.6 0 0.02" width="1.2"></a-text>
            </a-plane>
          </a-entity>
          
          <!-- Pannello di dettaglio (inizialmente nascosto) -->
          <a-entity id="detail-panel" visible="false" position="0 -0.3 0" rotation="0 0 0">
            <!-- Sfondo pannello -->
            <a-plane width="1.5" height="0.8" color="#FFF" opacity="0.9"></a-plane>
            <!-- Slot per immagini -->
            <a-plane width="0.6" height="0.4" color="#ccc" position="-0.4 0.15 0.01">
              <a-text value="Slot Immagine 1" align="center" position="0 0 0.02" width="0.5"></a-text>
            </a-plane>
            <a-plane width="0.6" height="0.4" color="#ccc" position="0.4 0.15 0.01">
              <a-text value="Slot Immagine 2" align="center" position="0 0 0.02" width="0.5"></a-text>
            </a-plane>
            <!-- Pulsante d'azione -->
            <a-plane id="action-button"
                     width="1.3" height="0.1"
                     color="#bbb"
                     position="0 -0.05 0.01"
                     rotation="0 0 0"
                     class="clickable"
                     onclick="alert('Azione pulsante panel!')">
              <a-text value="Pulsante Azione" align="center" position="0 0 0.02" width="1.2"></a-text>
            </a-plane>
            <!-- 4 "Textbox" simulate -->
            <a-plane width="1.3" height="0.1" color="#eee" position="0 -0.15 0.01">
              <a-text value="Textbox 1" align="center" position="0 0 0.02" width="1.2"></a-text>
            </a-plane>
            <a-plane width="1.3" height="0.1" color="#eee" position="0 -0.25 0.01">
              <a-text value="Textbox 2" align="center" position="0 0 0.02" width="1.2"></a-text>
            </a-plane>
            <a-plane width="1.3" height="0.1" color="#eee" position="0 -0.35 0.01">
              <a-text value="Textbox 3" align="center" position="0 0 0.02" width="1.2"></a-text>
            </a-plane>
            <a-plane width="1.3" height="0.1" color="#eee" position="0 -0.45 0.01">
              <a-text value="Textbox 4" align="center" position="0 0 0.02" width="1.2"></a-text>
            </a-plane>
            <!-- Pulsante "Indietro" -->
            <a-plane id="back-button"
                     width="0.5" height="0.1"
                     color="#aaa"
                     position="0 -0.6 0.01"
                     rotation="0 0 0"
                     class="clickable"
                     onclick="closeDetailPanel()">
              <a-text value="Indietro" align="center" position="0 0 0.02" width="0.5"></a-text>
            </a-plane>
          </a-entity>
        </a-entity>
      </a-marker>
      
      <!-- Camera con cursore per interazioni -->
      <a-entity camera look-controls>
        <a-cursor></a-cursor>
      </a-entity>
    </a-scene>

    <script>
      // Mostra il pannello dettaglio e nasconde il menu
      function openDetailPanel(buttonId) {
        document.querySelector('#menu').setAttribute('visible', 'false');
        document.querySelector('#detail-panel').setAttribute('visible', 'true');
      }
      // Torna al menu principale
      function closeDetailPanel() {
        document.querySelector('#detail-panel').setAttribute('visible', 'false');
        document.querySelector('#menu').setAttribute('visible', 'true');
      }
    </script>
  </body>
</html>
